# JVM 类加载器

- 在Java代码中，类型的加载、连接与初始化过程都是在程序运行期间完成的。
- 提供了更大的**灵活性，增加了更多的可能性（**加载时稍微增加了一些性能开销**）。**

##### 类在虚拟机中的生命周期包括：加载、验证、准备、解析、初始化、使用、卸载。

- 加载：查找并加载类的二进制数据。
- 验证：为类的静态变量分配内存，并将其初始化为默认值
- 解析：把类中的*符号引用*转换为*直接引用*
- 初始化：把类的静态变量赋予正确的*初始值*

**未知.svg**

#####  Java程序对类的使用方式分为两种：

- 主动使用
- 被动使用

所有的Java虚拟机实现必须在每个类或接口被Java程序“ **首次主动使用** ”时才初始化他们。

##### 主动使用（七种）有且只有

1. 创建类的实例 
2. 访问某个类或接口的静态变量，或者对该静态变量赋值 
3. 调用类的静态方法 
    - 以上三种在jvm中表示为 使用 new、getstatic、putstatic或invokestatic这四个字节码指令时，如果类没进行初始化，则需要先触发初始化
4. 反射（如Class.forName(“com.test.Test”)) 
5. 初始化一个类的子类 
6. java虚拟机启动时被标明为启动类的类
7. JDK1.7开始提供的动态语言支持
  